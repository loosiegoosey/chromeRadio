<html>
<head><title>My chromeRadio Library</title>
<script src="js/chromeRadioStorage.js" type="text/javascript"></script>
<script type="text/javascript">
// This listener handles "Add this Mp3 to local storage" requests
// sent from popup.html
chrome.extension.onRequest.addListener(
  function(request, sender, sendResponse) {
    if (request.addmp3)
	{
		// Save the new link to storage.
		console.log("addmp3: "+request.addmp3+", linktext: "+request.linktext);
		setItem(chromeRadioStoragePrefix+request.addmp3, request.linktext);
		getRadioItems();
	}
  });
</script>
</head>
<body onload="getRadioItems()">

<h2>Your MP3 files</h2>
<p>Click to play</p>
<ul>
<div id="my_library"></div>
</ul>
<audio id="my-radio-player" autoplay="true" src="" controls="controls"></audio>

<h2>Add MP3 files to chromeRadio</h2>

<form name="form_new_mp3">
<p>Name: <br /><input type="text" name="mp3_name" id="mp3_name" size="100" maxlength="200"></p>
<p>URL: <br /><input type="text" name="mp3_url" id="mp3_url" size="100" maxlength="200"></p>
</form>

<br>
<button onclick="saveMp3Url()">Save</button>
<div id="status"></div>
</body>
</html>
